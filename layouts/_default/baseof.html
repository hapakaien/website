<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#" lang="{{ .Language.Lang }}">

	{{ partial "head.html" . }}

	<body>
		{{ partial "header.html" . }}

		{{ $classes := slice "wrapper" "wrapper--page" "wrapper--page-container" }}
		{{ if .IsHome }}
			{{ $classes = $classes | append "wrapper--page-home" }}
		{{ else if eq .Type "about" }}
			{{ $classes = $classes | append "wrapper--page-about" }}
		{{ else if eq .Type "docs" }}
			{{ $classes = $classes | append "wrapper--page-docs" }}
		{{ else if and (eq .Kind "page") (eq .Type "article") }}
			{{ $classes = $classes | append "wrapper--page-article" }}
		{{ else if eq .Kind "404" }}
			{{ $classes = $classes | append "wrapper--page-404" }}
		{{ end }}

		<main class="{{ delimit $classes " " }}">
			{{ block "main" . }}{{ end }}
		</main>

		{{ partial "footer.html" . }}

		{{ $js := resources.Get "js/main.js" | js.Build }}
		{{ if or (not hugo.IsProduction) (eq .Type "contact") }}
			{{ $contact := resources.Get "js/contact-form.js" }}
			{{ $js = slice $js $contact | resources.Concat "js/main.js" }}
		{{ end }}

		{{ if hugo.IsProduction }}
			{{ $js = $js | minify | fingerprint }}
		{{ end }}

		<script
			src="{{ $js.RelPermalink }}"
			integrity="{{ $js.Data.Integrity }}"
			defer
		></script>
	</body>

</html>
